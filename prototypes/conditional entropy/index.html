<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="stylesheet" href="css/styles.css" />
    <script src="lib/jquery-3.7.1.min.js"></script>
    <script type="text/javascript" src="js/calculator.js"></script>
    <script type="text/javascript" src="js/catNumHandler.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conditional Entropy calculator</title>
</head>

<body>

    <div class="container p-3">
        <!-- Info card -->
        <div class="row-auto p-2">
            <div class="accordion" id="accordionInfo">
                <div class="card bg-light mx-auto ">
                    <!-- General Info -->
                    <div class="card-header fs-5" id="generalInfo">
                        <a class="collapsed d-block link-body-emphasis link-offset-2 link-offset-2-hover link-underline link-underline-opacity-0 link-underline-opacity-50-hover"
                            data-bs-toggle="collapse" href="#generalInfoCondEntropy" aria-expanded="false"
                            aria-controls="generalInfoCondEntropy">
                            General Information
                        </a>
                    </div>
                    <div class="collapse" id="generalInfoCondEntropy" aria-labelledby="generalInfo"
                        data-parent="#accordionInfo">
                        <div class="card-body ">
                            <p class="card-text fw-light">
                                Conditional entropy is a measure of the amount of impurity, uncertainty or randomness
                                remaining in a random variable given that another random variable is known.
                            <p class="card-text fw-light">
                                In the context of classification problems, conditional entropy quantifies the
                                uncertainty of a target variable \( Y \), which describes the set of class labels, given
                                a value/category \( x \) of the attribute/feature \( X \).
                            </p>
                            <a href="https://en.wikipedia.org/wiki/Conditional_entropy"
                                class="btn btn-outline-dark ">Learn more</a>
                            </p>
                        </div>
                    </div>
                    <!-- Calculation -->
                    <div class="card-header fs-5" id="calculation">
                        <a class="collapsed d-block link-body-emphasis link-offset-2 link-offset-2-hover link-underline link-underline-opacity-0 link-underline-opacity-50-hover"
                            data-bs-toggle="collapse" href="#calcInfoCondEntropy" aria-expanded="false"
                            aria-controls="calcInfoCondEntropy">
                            Calculation
                        </a>
                    </div>
                    <div class="collapse" id="calcInfoCondEntropy" aria-labelledby="calculation"
                        data-parent="#accordionInfo">
                        <div class="card-body ">
                            <p class="card-text fw-light">
                            <p class="card-text fw-light">
                                For a binary classification problem, conditional entropy \( E(Y|X) \) is calculated
                                using the following formula:
                            </p>
                            <p class="card-text fw-light">
                                \[ E(Y|X) = \sum_{x \in X} p(x) E(Y|X = x) \]
                            </p>
                            <p class="card-text fw-light">
                                Where:
                            </p>
                            <ul class="card-text fw-light">
                                <li>\( X \) is the set of values/categories for the first attribute/feature.</li>
                                <li>\( Y \) is the set of values for the class labels.</li>
                                <li>\( p(x) \) is the proportion between the number of instances with the value \( x \)
                                    and the size of the dataset.</li>
                            </ul>
                            <p class="card-text fw-light">
                                Calculating the conditional entropies for the individual values \( x \) of attribute \(
                                X \) (depicted as \( E(Category) \) in the calculator below) is possible with the
                                following formula:
                            </p>
                            <p class="card-text fw-light">
                                \[ E(Y|X = x) = - \sum_{y \in Y} p(y|x) log_2(p(y|x)) \]
                            </p>
                            <p class="card-text fw-light">
                                Where:
                            </p>
                            <ul class="card-text fw-light">
                                <li>\( p(y|x) \) is the proportion of instances in the dataset with attribute
                                    value \( x \) that also have the class value \( y \).</li>
                            </ul>
                            <p class="card-text fw-light">
                                It sums over all the possible values of the target variable \( Y \).
                            </p>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <p class="fs-2 text-center">Conditional Entropy calculator</p>
            <!-- Alert sum 0 -->
            <div class="row-auto">
                <div class="col-auto">
                    <div class="alert alert-danger alert-dismissible d-none" id="alert-sum-0">
                        <button type="button" class="btn-close"
                            onclick="$('#alert-sum-0').addClass('d-none');"></button>
                        All instance values are 0. Please introduce at least one instance with a positive integer value.
                    </div>
                </div>
            </div>
            <!-- Alert invalid value -->
            <div class="row-auto">
                <div class="col-auto">
                    <div class="alert alert-danger alert-dismissible d-none" id="alert-invalid-val">
                        <button type="button" class="btn-close"
                            onclick="$('#alert-invalid-val').addClass('d-none');"></button>
                        At least one value is invalid. Please only use positive integers as input values.
                    </div>
                </div>
            </div>
            <!-- Alert no input -->
            <div class="row-auto">
                <div class="col-auto">
                    <div class="alert alert-danger alert-dismissible d-none" id="alert-empty-input">
                        <button type="button" class="btn-close"
                            onclick="$('#alert-empty-input').addClass('d-none');"></button>
                        At least one input field is empty. Please add positive integer values to each input field.
                    </div>
                </div>
            </div>
            <!-- Conditional Entropy table -->
            <div class="row-auto">
                <div class="col-auto">
                    <div class="table-wrapper">
                        <table class="table caption-top" id="table-cond-entropy">
                            <caption>Feature: </caption>
                            <thead class="sticky-top">
                                <tr>
                                    <th></th>
                                    <th>Class 1</th>
                                    <th>Class 2</th>
                                    <th>Ratio</th>
                                    <th>E(Category)</th>
                                    <th>CE(Feature)</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td id="c1"><label class="form-control-plaintext ">Category 1:</label></td>
                                    <td><input value=1 type=text class="form-control" /></td>
                                    <td><input value=5 type=text class="form-control" /></td>
                                    <td><label class="form-control-plaintext ">0.4</label></td>
                                    <td><label class="form-control-plaintext ">0.65</label></td>
                                    <td id="ceCell" rowspan="3" style="vertical-align: middle;"><label id="ce"
                                            class="form-control-plaintext ">0.56</label></td>
                                </tr>
                                <tr>
                                    <td id="c2"><label class="form-control-plaintext ">Category 2:</label></td>
                                    <td><input value=1 type=text class="form-control" /></td>
                                    <td><input value=8 type=text class="form-control" /></td>
                                    <td><label class="form-control-plaintext ">0.6</label></td>
                                    <td><label class="form-control-plaintext ">0.5</label></td>
                                </tr>
                            </tbody>
                            <tfoot>
                                <tr style="border-bottom: hidden;">
                                    <td>
                                        <div class="btn btn-outline-primary " onclick="addCategory()">+</div>
                                    </td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td></td>
                                    <td>
                                        <div class="btn btn-primary " onclick="calcCondEntropy()">Calculate Conditional Entropy
                                        </div>
                                    </td>

                                </tr>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>

</html>